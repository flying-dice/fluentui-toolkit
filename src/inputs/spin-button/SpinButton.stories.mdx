import { Canvas, Meta, Story } from "@storybook/addon-docs/blocks";
import { Label, Stack } from "@fluentui/react";
import { SpinButton } from "./SpinButton";

<Meta
  title="Inputs/SpinButton"
  component={SpinButton}
  args={{
    defaultValue: 51.4678,
    decimalPlaces: 6,
    step: 0.01,
    onChange: console.log,
  }}
/>

# Spin Button

A spin button (SpinButton) allows someone to incrementally adjust a numeric value in small steps.
This variant is strictly to support numeric values.

This SpinButton differs from the FluentUI Spin button by exporting an additional props as follows

- `onChange` - Now Emits upon keyboard/increment which changes the value
- `decimalPlaces` - How many decimal places to display, replaces the `precision` from the
  FluentUI SpinButton

export const Template = (args) => (
  <Stack style={{ padding: "0.5rem" }}>
    <Label>Float</Label>
    <SpinButton {...args} />
  </Stack>
);

<Canvas>
  <Story name="SpinButton">{Template.bind({})}</Story>
</Canvas>

## API

The API is identical to the existing [FluentUi SpinButton](https://developer.microsoft.com/en-us/fluentui#/controls/web/spinbutton)
with the addition of an updated `onChange` prop API as follows

- `onChange` - Debounced callback invoked when the value of the spinbutton changes
- `decimalPlaces` - Specify the number of decimal places to display

## Example

The below example shows how to use the spin button, changes are logged to the console.

<Canvas>
  <Stack style={{ padding: "0.5rem" }} tokens={{ childrenGap: "0.5rem" }}>
    <Stack>
      <Label>Integer</Label>
      <SpinButton onChange={console.log} />
    </Stack>
    <Stack>
      <Label>Float</Label>
      <SpinButton
        defaultValue={0.001}
        decimalPlaces={4}
        step={0.1}
        min={-50}
        max={50}
        onChange={console.log}
      />
    </Stack>
  </Stack>
</Canvas>

```jsx
import { SpinButton } from "./SpinButton";

<SpinButton defaultValue={51.8564} decimalPlaces={4} step={0.01} onChange={console.log} />;
```
